{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"poe-sdk","text":"<p>Python SDK documentation for the Poe API.</p>"},{"location":"#what-is-poe-sdk","title":"What is poe-sdk?","text":"<p><code>poe-sdk</code> is a Python SDK for building applications that interact with Poe.com models and bots via the Poe API.</p> <p>With the SDK you can:</p> <ul> <li>Send chat completions to Poe models/bots.</li> <li>Stream responses in real time.</li> <li>Use tool calling (function calling) to let models request structured tool invocations.</li> <li>List models and read modality/pricing metadata.</li> <li>Monitor points balance and usage history.</li> </ul>"},{"location":"#quickstart","title":"Quickstart","text":"<pre><code>import os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\nresp = client.chat.completions.create(\n    model=\"Claude-Sonnet-4\",\n    messages=[{\"role\": \"user\", \"content\": \"Why is the sky blue?\"}],\n)\n\nprint(resp.choices[0].message.content)\n</code></pre>"},{"location":"#api-endpoints-as-documented","title":"API endpoints (as documented)","text":"<ul> <li><code>POST https://api.poe.com/v1/chat/completions</code></li> <li><code>GET  https://api.poe.com/v1/models</code></li> <li><code>GET  https://api.poe.com/usage/current_balance</code></li> <li><code>GET  https://api.poe.com/usage/points_history</code></li> </ul>"},{"location":"#next-steps","title":"Next steps","text":"<ul> <li>Getting Started</li> <li>Installation</li> <li>Authentication</li> <li> <p>Core Concepts</p> </li> <li> <p>Guides</p> </li> <li>Chat Completions</li> <li>Tool Calling</li> <li> <p>Integrations (Cursor, VS Code, etc.)</p> </li> <li> <p>Advanced</p> </li> <li>Rate Limits</li> <li>OpenAI Compatibility</li> <li> <p>Anthropic Compatibility</p> </li> <li> <p>Reference</p> </li> <li>Client</li> <li>Chat</li> <li>Models</li> <li>Usage</li> <li>Errors</li> </ul>"},{"location":"advanced/anthropic-compat/","title":"Anthropic Compatibility","text":"<p>Poe provides an Anthropic-compatible interface for accessing Claude models.</p>"},{"location":"advanced/anthropic-compat/#base-url","title":"Base URL","text":"<p>Set the Anthropic client base URL to:</p> <ul> <li><code>https://api.poe.com</code></li> </ul>"},{"location":"advanced/anthropic-compat/#endpoint","title":"Endpoint","text":"<ul> <li><code>POST /v1/messages</code></li> </ul>"},{"location":"advanced/anthropic-compat/#usage","title":"Usage","text":""},{"location":"advanced/anthropic-compat/#python-anthropic-sdk","title":"Python (Anthropic SDK)","text":"<pre><code>import os\nimport anthropic\n\nclient = anthropic.Anthropic(\n    api_key=os.getenv(\"POE_API_KEY\"),\n    base_url=\"https://api.poe.com\",\n)\n\nmessage = client.messages.create(\n    model=\"claude-sonnet-4\",\n    max_tokens=1024,\n    messages=[{\"role\": \"user\", \"content\": \"Hello world\"}],\n)\nprint(message.content[0].text)\n</code></pre>"},{"location":"advanced/anthropic-compat/#authentication","title":"Authentication","text":"<p>The API supports two methods:</p> <ol> <li><code>x-api-key</code> header (Recommended, standard Anthropic method)</li> <li><code>Authorization: Bearer</code> header (For compatibility)</li> </ol>"},{"location":"advanced/anthropic-compat/#supported-models","title":"Supported Models","text":"<p>You can use any Claude model available on Poe. Examples:</p> <ul> <li><code>Claude-Sonnet-4.5</code> (<code>claude-sonnet-4.5</code>)</li> <li><code>Claude-Opus-4.5</code> (<code>claude-opus-4.5</code>)</li> <li><code>Claude-Haiku-4.5</code> (<code>claude-haiku-4.5</code>)</li> <li><code>Claude-Opus-4.1</code> (<code>claude-opus-4.1</code>)</li> <li><code>Claude-Sonnet-4</code> (<code>claude-sonnet-4</code>)</li> </ul>"},{"location":"advanced/anthropic-compat/#rate-limits","title":"Rate Limits","text":"<ul> <li>500 requests per minute (RPM).</li> <li>Responses include standard rate limit headers.</li> </ul>"},{"location":"advanced/anthropic-compat/#differences-from-other-apis","title":"Differences from other APIs","text":"<ul> <li>Only official Anthropic bots are supported. Custom bots or bots from other providers (like GPT-4) cannot be called via this endpoint.</li> </ul>"},{"location":"advanced/openai-compat/","title":"OpenAI Compatibility","text":"<p>Poe provides an OpenAI-compatible interface for Chat Completions.</p>"},{"location":"advanced/openai-compat/#base-url","title":"Base URL","text":"<p>Set the OpenAI client base URL to:</p> <ul> <li><code>https://api.poe.com/v1</code></li> </ul> <p>The endpoint is:</p> <ul> <li><code>POST /chat/completions</code></li> </ul>"},{"location":"advanced/openai-compat/#key-differences-documented","title":"Key differences (documented)","text":"<ul> <li>Structured outputs are not supported (e.g. <code>response_format</code> with <code>json_schema</code>).</li> <li><code>strict</code> for tool calling is ignored.</li> <li>Audio input is ignored/stripped.</li> <li>Many unsupported fields are silently ignored.</li> <li><code>n</code> must be exactly <code>1</code>.</li> </ul>"},{"location":"advanced/openai-compat/#known-issues-limitations","title":"Known Issues &amp; Limitations","text":"<ul> <li>Private bots: Not currently supported.</li> <li>Media bots: Use <code>stream=False</code> for best results.</li> <li>Parameter Handling: Best-effort. Some model-specific parameters may not be supported.</li> <li>Audio input: Not supported; ignored.</li> </ul>"},{"location":"advanced/openai-compat/#detailed-api-support","title":"Detailed API Support","text":""},{"location":"advanced/openai-compat/#request-fields","title":"Request fields","text":"Field Support status <code>model</code> Use Poe bot names <code>max_tokens</code> / <code>max_completion_tokens</code> Fully supported <code>stream</code> / <code>stream_options</code> Fully supported <code>tools</code> / <code>tool_choice</code> / <code>parallel_tool_calls</code> Fully supported <code>temperature</code> 0-2 <code>response_format</code> Ignored <code>audio</code> Ignored"},{"location":"advanced/openai-compat/#response-fields","title":"Response fields","text":"Field Support status <code>id</code>, <code>created</code>, <code>model</code> Fully supported <code>choices[].message</code> Fully supported <code>usage</code> Fully supported <code>logprobs</code> Always empty"},{"location":"advanced/openai-compat/#custom-parameters","title":"Custom parameters","text":"<p>When using the OpenAI SDK against Poe, pass bot-specific parameters using:</p> <ul> <li><code>extra_body={...}</code></li> </ul> <p>Examples include <code>reasoning_effort</code>, <code>thinking_budget</code>, <code>aspect</code>, <code>quality</code>, etc.</p>"},{"location":"advanced/openai-compat/#migration-checklist","title":"Migration checklist","text":"<ol> <li>Switch base URL: <code>https://api.openai.com/v1</code> \u2192 <code>https://api.poe.com/v1</code></li> <li>Replace environment variable: <code>OPENAI_API_KEY</code> \u2192 <code>POE_API_KEY</code></li> <li>Choose a Poe model ID (e.g. <code>Claude-Opus-4.1</code>)</li> <li>Remove unsupported parameters (<code>n&gt;1</code>, audio, etc.)</li> <li>Run tests and validate outputs</li> </ol>"},{"location":"advanced/rate-limits/","title":"Rate Limits","text":""},{"location":"advanced/rate-limits/#current-limits","title":"Current limits","text":"<p>The documented rate limit is:</p> <ul> <li>500 requests per minute (RPM) per API key</li> </ul>"},{"location":"advanced/rate-limits/#rate-limit-headers","title":"Rate limit headers","text":"<p>Every response includes request-based rate limit headers:</p> <ul> <li><code>x-ratelimit-limit-requests</code> (e.g. <code>500</code>)</li> <li><code>x-ratelimit-remaining-requests</code></li> <li><code>x-ratelimit-reset-requests</code> (seconds until reset)</li> </ul> <p>Example:</p> <pre><code>x-ratelimit-remaining-requests: 499\nx-ratelimit-limit-requests: 500\nx-ratelimit-reset-requests: 1\n</code></pre>"},{"location":"advanced/rate-limits/#handling-429-responses","title":"Handling 429 responses","text":"<p>When exceeded, the API returns <code>429 Too Many Requests</code>.</p> <p>Recommended strategy:</p> <ul> <li>Honor <code>Retry-After</code> if present.</li> <li>Otherwise apply exponential backoff (e.g. 250ms, 500ms, 1s...) with jitter.</li> <li>Add client-side throttling (token bucket, leaky bucket, or simple queue) for high-volume apps.</li> </ul>"},{"location":"advanced/rate-limits/#load-testing","title":"Load Testing","text":"<p>Do not load test production. Use mocked endpoints to avoid consuming your rate limit.</p> <ul> <li>Mock API Requests: Build a configurable system to mock Poe API responses.</li> <li>Simulate Latency: Add realistic delays to mocked responses based on real API measurements.</li> </ul>"},{"location":"advanced/rate-limits/#usage-tracking","title":"Usage Tracking","text":"<p>Use the Usage API to track detailed API usage:</p> <ul> <li>Historical usage data</li> <li>Request counts</li> <li>Point consumption</li> </ul> <p>See <code>client.usage.points_history(...)</code> for details.</p>"},{"location":"advanced/rate-limits/#higher-limits","title":"Higher limits","text":"<p>If you need higher rate limits, contact <code>developers@poe.com</code> (documented).</p>"},{"location":"getting-started/authentication/","title":"Authentication","text":"<p>All authenticated Poe API calls use a Poe API key.</p>"},{"location":"getting-started/authentication/#get-an-api-key","title":"Get an API key","text":"<ul> <li>Create/copy your key at <code>https://poe.com/api_key</code></li> </ul>"},{"location":"getting-started/authentication/#recommended-environment-variables","title":"Recommended: environment variables","text":"<p>PowerShell (current session):</p> <pre><code>$env:POE_API_KEY = \"your_api_key_here\"\n</code></pre> <p>PowerShell (persist user-level):</p> <pre><code>[System.Environment]::SetEnvironmentVariable('POE_API_KEY', 'your_api_key_here', 'User')\n</code></pre> <p>In Python:</p> <pre><code>import os\napi_key = os.environ[\"POE_API_KEY\"]\n</code></pre>"},{"location":"getting-started/authentication/#http-header","title":"HTTP header","text":"<p>Poe uses a bearer token header:</p> <pre><code>Authorization: Bearer &lt;POE_API_KEY&gt;\n</code></pre>"},{"location":"getting-started/authentication/#security-best-practices","title":"Security best practices","text":"<p>\u26a0\ufe0f Security Warning: Your API key provides full access to your Poe account and point balance.</p> <ul> <li>Do NOT commit keys to version control (git).</li> <li>Do NOT expose keys in client-side code (browsers, mobile apps).</li> <li>Use environment variables for all key management.</li> <li>Rotate keys periodically and revoke compromised keys immediately at poe.com/api_key.</li> <li>Use separate keys for development and production environments.</li> </ul>"},{"location":"getting-started/authentication/#optional-leaderboard-attribution-headers","title":"Optional: leaderboard attribution headers","text":"<p>If you want Poe to attribute requests to your external application (leaderboard):</p> <ul> <li><code>HTTP-Referer</code>: URL associated with your app</li> <li><code>X-Title</code>: display name</li> </ul> <p>These can be configured as default headers in the client or passed per-request.</p>"},{"location":"getting-started/core-concepts/","title":"Core Concepts","text":""},{"location":"getting-started/core-concepts/#models-and-bots","title":"Models and bots","text":"<p>In Poe\u2019s OpenAI-compatible API, the request field is called <code>model</code>, but it expects a Poe model/bot ID (e.g. <code>Claude-Sonnet-4</code>, <code>GPT-5-Pro</code>, <code>Gemini-2.5-Pro</code>).</p> <p>Important limitations (documented):</p> <ul> <li>Private bots are not supported via the API.</li> <li>The App-Creator bot is not available via API.</li> </ul>"},{"location":"getting-started/core-concepts/#messages","title":"Messages","text":"<p>Chat uses an OpenAI-style list of message objects:</p> <ul> <li><code>role</code>: <code>system</code>, <code>user</code>, <code>assistant</code>, or <code>tool</code></li> <li><code>content</code>: typically a string; can also be a list of content blocks for multi-modal input</li> </ul>"},{"location":"getting-started/core-concepts/#chat-completions","title":"Chat completions","text":"<p>The primary endpoint is:</p> <ul> <li><code>POST https://api.poe.com/v1/chat/completions</code></li> </ul> <p>The response is OpenAI-compatible (<code>chat.completion</code>).</p>"},{"location":"getting-started/core-concepts/#streaming","title":"Streaming","text":"<p>Set <code>stream=True</code> to receive incremental chunks (<code>chat.completion.chunk</code>) until a terminal <code>[DONE]</code> event.</p> <p>Guidance (documented):</p> <ul> <li>Use <code>stream=True</code> for text chat UX.</li> <li>For image/video/audio generation bots, prefer <code>stream=False</code>.</li> </ul>"},{"location":"getting-started/core-concepts/#tool-calling","title":"Tool calling","text":"<p>Tool calling (function calling) is supported using <code>tools</code> and <code>tool_choice</code>.</p> <p>The model may return <code>tool_calls</code> in an assistant message. Your app executes tools and sends results back using messages with <code>role=\"tool\"</code>.</p>"},{"location":"getting-started/core-concepts/#points-and-billing","title":"Points and billing","text":"<p>API usage consumes points from the account associated with the API key.</p> <p>Usage endpoints:</p> <ul> <li><code>GET https://api.poe.com/usage/current_balance</code></li> <li><code>GET https://api.poe.com/usage/points_history</code></li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#primary-poe-sdk","title":"Primary: poe-sdk","text":"<p>Install the package via pip:</p> <pre><code>pip install poe-sdk\n</code></pre>"},{"location":"getting-started/installation/#alternatives-official-provider-sdks","title":"Alternatives: Official Provider SDKs","text":"<p>Since the Poe API is compatible with OpenAI and Anthropic specifications, you can also use their official SDKs if you prefer.</p>"},{"location":"getting-started/installation/#openai-sdk","title":"OpenAI SDK","text":"<pre><code>pip install openai\n# or\nnpm install openai\n</code></pre>"},{"location":"getting-started/installation/#anthropic-sdk","title":"Anthropic SDK","text":"<pre><code>pip install anthropic\n# or\nnpm install @anthropic-ai/sdk\n</code></pre>"},{"location":"getting-started/installation/#environment-setup","title":"Environment Setup","text":"<p>We recommend using <code>python-dotenv</code> to manage your keys.</p> <pre><code>pip install python-dotenv\n</code></pre> <pre><code>from dotenv import load_dotenv\nload_dotenv()\n</code></pre>"},{"location":"guides/chat-completions/","title":"Chat Completions","text":"<p>Poe\u2019s primary API is OpenAI-compatible chat completions.</p>"},{"location":"guides/chat-completions/#endpoint","title":"Endpoint","text":"<ul> <li><code>POST https://api.poe.com/v1/chat/completions</code></li> </ul>"},{"location":"guides/chat-completions/#non-streaming-example","title":"Non-streaming example","text":"<pre><code>import os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\nresp = client.chat.completions.create(\n    model=\"Claude-Sonnet-4\",\n    messages=[{\"role\": \"user\", \"content\": \"Top 3 things to do in NYC?\"}],\n)\n\nprint(resp.choices[0].message.content)\n</code></pre>"},{"location":"guides/chat-completions/#streaming-example","title":"Streaming example","text":"<p>When <code>stream=True</code>, the API returns chunks until a terminal <code>[DONE]</code> event.</p> <pre><code>import os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\nstream = client.chat.completions.create(\n    model=\"Claude-Sonnet-4\",\n    messages=[\n        {\"role\": \"system\", \"content\": \"You are a helpful travel agent.\"},\n        {\"role\": \"user\", \"content\": \"Tell me about San Francisco\"},\n    ],\n    stream=True,\n)\n\nfor chunk in stream:\n    delta = chunk.choices[0].delta\n    if delta and delta.content:\n        print(delta.content, end=\"\", flush=True)\n</code></pre>"},{"location":"guides/chat-completions/#multi-modal-inputs","title":"Multi-modal inputs","text":"<p><code>messages[].content</code> can be a list of blocks instead of a string.</p>"},{"location":"guides/chat-completions/#imagefile-input-via-data-url","title":"Image/File input via data URL","text":"<p>Poe supports various file types via base64-encoded data URLs:</p> <ul> <li>Images: <code>image/jpeg</code>, <code>image/png</code>, etc.</li> <li>Documents: <code>application/pdf</code>, <code>text/plain</code>, etc.</li> <li>Audio/Video: <code>audio/mp3</code>, <code>video/mp4</code>, etc.</li> </ul> <pre><code>import base64\nimport os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\ndef encode_file(path):\n    with open(path, \"rb\") as f:\n        return base64.b64encode(f.read()).decode(\"utf-8\")\n\npdf_b64 = encode_file(\"doc.pdf\")\n\nresp = client.chat.completions.create(\n    model=\"Claude-Sonnet-4\",\n    messages=[{\n        \"role\": \"user\",\n        \"content\": [\n            {\"type\": \"text\", \"text\": \"Summarize this document.\"},\n            {\n                \"type\": \"file\",\n                \"file\": {\n                    \"filename\": \"doc.pdf\",\n                    \"file_data\": f\"data:application/pdf;base64,{pdf_b64}\"\n                }\n            },\n        ],\n    }],\n)\n</code></pre>"},{"location":"guides/chat-completions/#custom-parameters","title":"Custom Parameters","text":"<p>You can pass bot-specific parameters (like <code>thinking_budget</code> or <code>reasoning_effort</code>) using <code>extra_body</code>.</p> <pre><code>resp = client.chat.completions.create(\n    model=\"Claude-Sonnet-4.5\",\n    messages=[{\"role\": \"user\", \"content\": \"Explain quantum physics.\"}],\n    extra_body={\n        \"thinking_budget\": 1024,  # For Claude 3.7+\n        # \"reasoning_effort\": \"high\",  # For o1/o3 models\n        # \"aspect_ratio\": \"16:9\",      # For image models\n    }\n)\n</code></pre>"},{"location":"guides/chat-completions/#common-parameters","title":"Common parameters","text":"<ul> <li><code>max_tokens</code>, <code>max_completion_tokens</code></li> <li><code>temperature</code> (0\u20132)</li> <li><code>top_p</code> (0\u20131)</li> <li><code>stop</code> (string or list)</li> <li><code>tools</code>, <code>tool_choice</code>, <code>parallel_tool_calls</code> (tool calling)</li> <li><code>stream</code>, <code>stream_options</code></li> </ul>"},{"location":"guides/chat-completions/#notes-and-limitations-documented","title":"Notes and limitations (documented)","text":"<ul> <li>Private bots are not currently supported.</li> <li>For image/video/audio bots, prefer <code>stream=False</code>.</li> <li><code>n</code> must be exactly <code>1</code>.</li> <li>Unsupported fields are often ignored rather than erroring.</li> </ul>"},{"location":"guides/integrations/","title":"Integrations","text":"<p>Poe's OpenAI-compatible API allows you to use your Poe subscription with popular AI coding tools.</p>"},{"location":"guides/integrations/#prerequisites","title":"Prerequisites","text":"<ul> <li>Base URL: <code>https://api.poe.com/v1/</code></li> <li>API Key: poe.com/api_key</li> </ul>"},{"location":"guides/integrations/#cursor","title":"Cursor","text":"<ol> <li>Open Settings &gt; Models.</li> <li>Add a Custom Model Provider (OpenAI Compatible).</li> <li>Configure:</li> <li>Base URL: <code>https://api.poe.com/v1/</code></li> <li>API Key: Your Poe API Key</li> <li>Add models like <code>Claude-Sonnet-4</code>, <code>GPT-4o</code>, <code>Gemini-2.5-Pro</code>.</li> </ol>"},{"location":"guides/integrations/#cline-vs-code","title":"Cline (VS Code)","text":"<ol> <li>Open Cline Settings.</li> <li>Select OpenAI Compatible as API Provider.</li> <li>Configure:</li> <li>Base URL: <code>https://api.poe.com/v1/</code></li> <li>API Key: Your Poe API Key</li> <li>Model ID: e.g., <code>Claude-Sonnet-4</code></li> </ol>"},{"location":"guides/integrations/#roo-code","title":"Roo Code","text":"<ol> <li>Open Settings &gt; Providers.</li> <li>Select OpenAI Compatible.</li> <li>Configure:</li> <li>Base URL: <code>https://api.poe.com/v1/</code></li> <li>API Key: Your Poe API Key</li> <li>Model: e.g., <code>Claude-Sonnet-4</code></li> </ol>"},{"location":"guides/integrations/#llm-command-line","title":"LLM (Command Line)","text":"<pre><code>llm \"Explain quantum computing\" -m Claude-Sonnet-4 --api-base https://api.poe.com/v1 --key poe\n</code></pre>"},{"location":"guides/integrations/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Invalid API Key: Verify key at poe.com/api_key.</li> <li>Model Not Found: Use exact model names (e.g., <code>Claude-Sonnet-4</code>).</li> <li>Connection Timeout: Verify Base URL is <code>https://api.poe.com/v1/</code>.</li> </ul>"},{"location":"guides/models/","title":"Models","text":"<p>Poe provides a unified model catalog across many providers.</p>"},{"location":"guides/models/#endpoint","title":"Endpoint","text":"<ul> <li><code>GET https://api.poe.com/v1/models</code></li> </ul> <p>The docs note this endpoint does not require authentication and returns publicly available models.</p>"},{"location":"guides/models/#example","title":"Example","text":"<pre><code>from poe_sdk import PoeClient\n\nclient = PoeClient()\nmodels = client.models.list()\n\nfor m in models.data[:20]:\n    modality = None\n    if getattr(m, \"architecture\", None):\n        modality = m.architecture.modality\n    print(m.id, m.owned_by, modality)\n</code></pre>"},{"location":"guides/models/#filtering-suggestions","title":"Filtering suggestions","text":"<ul> <li>Filter by <code>architecture.input_modalities</code> depending on your app.</li> <li>Caching: The list of available models changes infrequently. It is highly recommended to cache this response for 1-24 hours to improve performance and reduce API calls.</li> </ul>"},{"location":"guides/models/#pricing-metadata","title":"Pricing metadata","text":"<p>Each model may include <code>pricing</code> fields (strings) such as:</p> <ul> <li><code>pricing.prompt</code></li> <li><code>pricing.completion</code></li> </ul> <p>Use these for rough estimation and display; your actual consumption is reflected in points usage history.</p>"},{"location":"guides/tool-calling/","title":"Tool Calling","text":"<p>Tool calling (function calling) lets a model propose structured tool invocations. Your application executes them and returns results back to the model.</p>"},{"location":"guides/tool-calling/#how-it-works","title":"How it works","text":"<ol> <li>You send a request with <code>tools</code> defined.</li> <li>The model may respond with <code>tool_calls</code>.</li> <li>Your client executes each tool call.</li> <li>You append tool outputs as messages with <code>role=\"tool\"</code>.</li> <li>You send a follow-up request (with the updated conversation) to get the final answer.</li> </ol>"},{"location":"guides/tool-calling/#define-tools","title":"Define tools","text":"<p>Tools follow the OpenAI tools schema.</p> <pre><code>TOOLS = [\n    {\n        \"type\": \"function\",\n        \"function\": {\n            \"name\": \"plus\",\n            \"description\": \"Add two integers together\",\n            \"parameters\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"a\": {\"type\": \"integer\", \"description\": \"First integer\"},\n                    \"b\": {\"type\": \"integer\", \"description\": \"Second integer\"},\n                },\n                \"required\": [\"a\", \"b\"],\n            },\n        },\n    }\n]\n</code></pre>"},{"location":"guides/tool-calling/#full-example","title":"Full example","text":"<pre><code>import json\nimport os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\nmessages = [\n    {\"role\": \"user\", \"content\": \"What is 1999 + 2036?\"}\n]\n\nfirst = client.chat.completions.create(\n    model=\"GPT-5\",\n    messages=messages,\n    tools=TOOLS,\n    tool_choice=\"auto\",\n)\n\nassistant = first.choices[0].message\n\n# If there are no tool calls, you're done\nif not getattr(assistant, \"tool_calls\", None):\n    print(assistant.content)\nelse:\n    tool_messages = []\n    for tool_call in assistant.tool_calls:\n        if tool_call.function.name == \"plus\":\n            args = json.loads(tool_call.function.arguments)\n            result = args[\"a\"] + args[\"b\"]\n            tool_messages.append({\n                \"role\": \"tool\",\n                \"tool_call_id\": tool_call.id,\n                \"content\": str(result),\n            })\n\n    messages.append(assistant)\n    messages.extend(tool_messages)\n\n    final = client.chat.completions.create(\n        model=\"GPT-5\",\n        messages=messages,\n        tools=TOOLS,\n    )\n\n    print(final.choices[0].message.content)\n</code></pre>"},{"location":"guides/tool-calling/#agentic-loop","title":"Agentic Loop","text":"<p>The model can iterate through multiple tool calls, reasoning about intermediate results. Here is a conceptual pattern for an agentic loop:</p> <ol> <li>Initial Request: Send user message with tools.</li> <li>Loop:</li> <li>Check if response contains <code>tool_calls</code>.</li> <li>If no tool calls -&gt; Break (final answer reached).</li> <li>Execute each tool call.</li> <li>Append tool results to messages list.</li> <li>Send new request with updated messages.</li> <li>Repeat.</li> </ol> <p>This enables iterative reasoning and complex multi-step workflows.</p>"},{"location":"guides/tool-calling/#compatibility-note","title":"Compatibility note","text":"<p>The docs note that some OpenAI tool-calling options may not work with all Poe models (even if they are valid OpenAI parameters). For example, <code>tool_choice</code> with <code>allowed_tools</code> is only supported by some models.</p> <p>Also, <code>strict</code> tool calling is ignored, so tool arguments are not guaranteed to conform to schemas.</p>"},{"location":"guides/usage/","title":"Usage &amp; Billing","text":"<p>Poe API usage consumes points from the Poe account associated with the API key.</p>"},{"location":"guides/usage/#current-balance","title":"Current Balance","text":""},{"location":"guides/usage/#endpoint-current-balance","title":"Endpoint (Current Balance)","text":"<ul> <li><code>GET https://api.poe.com/usage/current_balance</code></li> </ul>"},{"location":"guides/usage/#example","title":"Example","text":"<pre><code>import os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\nbalance = client.usage.current_balance()\nprint(balance.current_point_balance)\n</code></pre>"},{"location":"guides/usage/#points-history","title":"Points History","text":""},{"location":"guides/usage/#endpoint-points-history","title":"Endpoint (Points History)","text":"<ul> <li><code>GET https://api.poe.com/usage/points_history</code></li> </ul>"},{"location":"guides/usage/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>limit</code>: max 100 (default 20)</li> <li><code>starting_after</code>: cursor (<code>query_id</code> from last entry)</li> </ul>"},{"location":"guides/usage/#example-pagination","title":"Example (Pagination)","text":"<pre><code>import os\nfrom poe_sdk import PoeClient\n\nclient = PoeClient(api_key=os.environ[\"POE_API_KEY\"])\n\npage = client.usage.points_history(limit=50)\nprint(page.length, page.has_more)\n\nwhile page.has_more and page.data:\n    cursor = page.data[-1].query_id\n    page = client.usage.points_history(limit=50, starting_after=cursor)\n    print(page.length, page.has_more)\n</code></pre>"},{"location":"guides/usage/#notes","title":"Notes","text":"<ul> <li>Usage history is available for up to 30 days (documented).</li> <li>Entries are returned most-recent-first.</li> </ul>"},{"location":"reference/chat/","title":"Chat","text":""},{"location":"reference/chat/#create-chat-completion","title":"Create chat completion","text":"<p>HTTP: <code>POST https://api.poe.com/v1/chat/completions</code></p>"},{"location":"reference/chat/#method","title":"Method","text":"<pre><code>def create(\n    self,\n    *,\n    model: str,\n    messages: list[dict],\n    max_tokens: int | None = None,\n    max_completion_tokens: int | None = None,\n    temperature: float | None = None,\n    top_p: float | None = None,\n    stop: str | list[str] | None = None,\n    stream: bool = False,\n    stream_options: dict | None = None,\n    tools: list[dict] | None = None,\n    tool_choice: str | dict | None = None,\n    parallel_tool_calls: bool | None = None,\n    n: int = 1,\n    extra_headers: dict[str, str] | None = None,\n    extra_body: dict | None = None,\n) -&gt; ChatCompletion | \"Iterator[ChatCompletionChunk]\":\n    ...\n</code></pre>"},{"location":"reference/chat/#parameters","title":"Parameters","text":"<ul> <li><code>model</code> (<code>str</code>, required)</li> <li>Poe model/bot ID (e.g. <code>Claude-Sonnet-4</code>).</li> <li><code>messages</code> (<code>list[dict]</code>, required)</li> <li>Each message has <code>role</code> and <code>content</code>.</li> <li><code>stream</code> (<code>bool</code>, optional)</li> <li>If <code>True</code>, yields streaming chunks and ends with a <code>[DONE]</code> event.</li> <li><code>max_tokens</code> / <code>max_completion_tokens</code> (<code>int | None</code>)</li> <li><code>temperature</code> (<code>float | None</code>)</li> <li>Supported range: 0\u20132.</li> <li><code>top_p</code> (<code>float | None</code>)</li> <li>Supported range: 0\u20131.</li> <li><code>stop</code> (<code>str | list[str] | None</code>)</li> <li>Up to 4 stop sequences.</li> <li><code>tools</code> (<code>list[dict] | None</code>)</li> <li>OpenAI tools schema.</li> <li><code>tool_choice</code> (<code>str | dict | None</code>)</li> <li><code>parallel_tool_calls</code> (<code>bool | None</code>)</li> <li><code>n</code> (<code>int</code>)</li> <li>Must be exactly <code>1</code> (documented).</li> <li><code>extra_headers</code> (<code>dict[str, str] | None</code>)</li> <li>Per-request headers, e.g. <code>HTTP-Referer</code>, <code>X-Title</code>.</li> <li><code>extra_body</code> (<code>dict | None</code>)</li> <li>For OpenAI-compatibility scenarios, used to pass bot-specific parameters.</li> </ul>"},{"location":"reference/chat/#returns","title":"Returns","text":"<ul> <li>If <code>stream=False</code>: a <code>ChatCompletion</code> object.</li> <li>If <code>stream=True</code>: an iterator of <code>ChatCompletionChunk</code> objects.</li> </ul>"},{"location":"reference/chat/#response-shape-non-streaming","title":"Response shape (non-streaming)","text":"<p>A typical response includes:</p> <ul> <li><code>id: str</code></li> <li><code>object: \"chat.completion\"</code></li> <li><code>created: int</code> (unix seconds)</li> <li><code>model: str</code></li> <li><code>choices: list[...]</code> (always length 1)</li> <li><code>usage.prompt_tokens</code>, <code>usage.completion_tokens</code>, <code>usage.total_tokens</code></li> </ul>"},{"location":"reference/chat/#response-shape-streaming","title":"Response shape (streaming)","text":"<p>Streaming yields events with:</p> <ul> <li><code>object: \"chat.completion.chunk\"</code></li> <li><code>choices[0].delta.content</code> providing incremental tokens</li> </ul>"},{"location":"reference/chat/#notes","title":"Notes","text":"<ul> <li>Private bots are not supported.</li> <li>For image/video/audio generation bots, use <code>stream=False</code>.</li> <li>Many unsupported OpenAI fields are silently ignored.</li> </ul>"},{"location":"reference/chat/#best-practices","title":"Best Practices","text":""},{"location":"reference/chat/#streaming-vs-non-streaming","title":"Streaming vs Non-Streaming","text":"<ul> <li>Text models: Use <code>stream=True</code> for better user experience (lower perceived latency).</li> <li>Media models: Use <code>stream=False</code> for image/video/audio generation bots, as they typically return complete outputs and streaming may not work as expected.</li> </ul>"},{"location":"reference/chat/#error-handling","title":"Error Handling","text":"<ul> <li>Implement retry logic with exponential backoff for rate limits (<code>429</code>) and temporary server errors (<code>503</code>).</li> <li>Monitor the <code>X-RateLimit-Remaining</code> header.</li> </ul>"},{"location":"reference/client/","title":"Client","text":"<p>This SDK is organized around a <code>PoeClient</code> that exposes grouped namespaces:</p> <ul> <li><code>client.chat.completions.create(...)</code></li> <li><code>client.models.list()</code></li> <li><code>client.usage.current_balance()</code></li> <li><code>client.usage.points_history(...)</code></li> </ul>"},{"location":"reference/client/#poeclient","title":"<code>PoeClient</code>","text":"<pre><code>class PoeClient:\n    def __init__(\n        self,\n        api_key: str | None = None,\n        base_url: str = \"https://api.poe.com\",\n        timeout: float | None = 30.0,\n        default_headers: dict[str, str] | None = None,\n    ) -&gt; None:\n        ...\n</code></pre> <ul> <li><code>api_key</code>: Poe API key from <code>https://poe.com/api_key</code>. Required for most endpoints.</li> <li><code>base_url</code>: Defaults to <code>https://api.poe.com</code>.</li> <li><code>timeout</code>: Request timeout (seconds).</li> <li><code>default_headers</code>: Optional headers applied to every request.</li> </ul>"},{"location":"reference/client/#leaderboard-attribution-headers","title":"Leaderboard attribution headers","text":"<p>If you want Poe to attribute API requests to your external application:</p> <ul> <li><code>HTTP-Referer</code>: URL linked from the leaderboard entry</li> <li><code>X-Title</code>: display name</li> </ul> <p>These can be supplied as <code>default_headers</code> or per-request <code>extra_headers</code>.</p>"},{"location":"reference/client/#response-headers","title":"Response headers","text":"<p>The Poe API includes useful headers such as:</p> <ul> <li><code>x-request-id</code></li> <li><code>openai-processing-ms</code></li> <li><code>x-ratelimit-limit-requests</code></li> <li><code>x-ratelimit-remaining-requests</code></li> <li><code>x-ratelimit-reset-requests</code></li> </ul> <p>A production-ready SDK typically makes response headers accessible for debugging and rate limiting.</p>"},{"location":"reference/errors/","title":"Errors","text":"<p>Poe uses standard HTTP status codes and returns a consistent JSON error body.</p>"},{"location":"reference/errors/#error-body-format","title":"Error body format","text":"<pre><code>{\n  \"error\": {\n    \"message\": \"Human-readable error message\",\n    \"type\": \"error_type\",\n    \"code\": \"error_code\"\n  }\n}\n</code></pre> <p>Some OpenAI-compatibility documentation also describes an error shape where <code>error.code</code> is numeric and may include <code>metadata</code>.</p>"},{"location":"reference/errors/#common-http-status-codes","title":"Common HTTP status codes","text":"<ul> <li><code>400</code> Bad Request</li> <li><code>401</code> Unauthorized (missing/invalid API key)</li> <li><code>403</code> Forbidden</li> <li><code>404</code> Not Found</li> <li><code>408</code> Timeout</li> <li><code>413</code> Request too large (context exceeded)</li> <li><code>429</code> Rate limit exceeded</li> <li><code>500</code> Internal server error</li> <li><code>502</code> Upstream error</li> <li><code>503</code> Service unavailable</li> <li><code>529</code> Overloaded</li> </ul>"},{"location":"reference/errors/#common-error-types","title":"Common Error Types","text":""},{"location":"reference/errors/#authentication-errors-401","title":"Authentication Errors (401)","text":"<ul> <li>Invalid API Key: <code>invalid_api_key</code>. Verify your key in the <code>Authorization</code> header.</li> </ul>"},{"location":"reference/errors/#bad-request-errors-400","title":"Bad Request Errors (400)","text":"<ul> <li>Invalid Model: <code>model_not_found</code>. Check <code>client.models.list()</code>.</li> <li>Invalid Parameters: <code>invalid_parameter</code>. Review endpoint documentation.</li> <li>Missing Required Fields: <code>missing_parameter</code>.</li> </ul>"},{"location":"reference/errors/#rate-limit-errors-429","title":"Rate Limit Errors (429)","text":"<ul> <li>Rate Limit Exceeded: <code>rate_limit_exceeded</code>. Implement exponential backoff.</li> </ul>"},{"location":"reference/errors/#insufficient-points-402","title":"Insufficient Points (402)","text":"<ul> <li>Insufficient Points: <code>insufficient_points</code>. Check balance with <code>client.usage.current_balance()</code>.</li> </ul>"},{"location":"reference/errors/#recommended-sdk-exception-mapping","title":"Recommended SDK exception mapping","text":"<p>A typical Python SDK maps these into exceptions:</p> <ul> <li><code>AuthenticationError</code> (401)</li> <li><code>InsufficientCreditsError</code> (402)</li> <li><code>PermissionError</code> (403)</li> <li><code>NotFoundError</code> (404)</li> <li><code>TimeoutError</code> (408)</li> <li><code>RequestTooLargeError</code> (413)</li> <li><code>RateLimitError</code> (429)</li> <li><code>ServerError</code> (5xx, 529)</li> </ul>"},{"location":"reference/errors/#retry-guidance","title":"Retry guidance","text":"<ul> <li>Respect <code>Retry-After</code> when present.</li> <li>Use exponential backoff with jitter for <code>429</code> and transient <code>5xx</code> errors.</li> <li>Re-submit the exact same payload when retrying.</li> </ul>"},{"location":"reference/models/","title":"Models","text":""},{"location":"reference/models/#list-models","title":"List models","text":"<p>HTTP: <code>GET https://api.poe.com/v1/models</code></p>"},{"location":"reference/models/#method","title":"Method","text":"<pre><code>def list(\n    self,\n    *,\n    extra_headers: dict[str, str] | None = None,\n) -&gt; ModelList:\n    ...\n</code></pre>"},{"location":"reference/models/#authentication","title":"Authentication","text":"<p>The docs note this endpoint does not require authentication and returns publicly available models.</p>"},{"location":"reference/models/#returns","title":"Returns","text":"<p><code>ModelList</code> with:</p> <ul> <li><code>object: \"list\"</code></li> <li><code>data: list[Model]</code></li> </ul> <p>Each <code>Model</code> can include:</p> <ul> <li><code>id: str</code></li> <li><code>object: \"model\"</code></li> <li><code>created: int</code> (unix ms)</li> <li><code>description: str | None</code></li> <li><code>owned_by: str</code></li> <li><code>architecture</code>:</li> <li><code>input_modalities: list[str]</code></li> <li><code>output_modalities: list[str]</code></li> <li><code>modality: str</code></li> <li><code>pricing</code>:</li> <li><code>prompt: str | None</code></li> <li><code>completion: str | None</code></li> <li><code>image: str | None</code></li> <li><code>request: str | None</code></li> </ul>"},{"location":"reference/models/#best-practices","title":"Best Practices","text":"<ul> <li>Caching: Model availability doesn't change frequently. Cache the response for 1-24 hours.</li> <li>Filtering: Filter by <code>architecture.input_modalities</code> for your use case.</li> <li>Pricing: Use the <code>pricing</code> field to estimate costs.</li> <li><code>prompt</code>: Cost per prompt token.</li> <li><code>completion</code>: Cost per completion token.</li> <li><code>image</code>: Cost per generated image.</li> <li><code>request</code>: Cost per request.</li> </ul>"},{"location":"reference/models/#errors","title":"Errors","text":"<ul> <li><code>429 rate_limit_error</code> (500 rpm)</li> </ul>"},{"location":"reference/usage/","title":"Usage","text":"<p>The Usage API provides endpoints to check balance and retrieve points history.</p>"},{"location":"reference/usage/#current-balance","title":"Current balance","text":"<p>HTTP: <code>GET https://api.poe.com/usage/current_balance</code></p>"},{"location":"reference/usage/#method-current-balance","title":"Method (current balance)","text":"<pre><code>def current_balance(self) -&gt; CurrentBalance:\n    ...\n</code></pre>"},{"location":"reference/usage/#returns-current-balance","title":"Returns (current balance)","text":"<pre><code>{\n  \"current_point_balance\": 295932027\n}\n</code></pre>"},{"location":"reference/usage/#points-history","title":"Points history","text":"<p>HTTP: <code>GET https://api.poe.com/usage/points_history</code></p>"},{"location":"reference/usage/#method-points-history","title":"Method (points history)","text":"<pre><code>def points_history(\n    self,\n    *,\n    limit: int = 20,\n    starting_after: str | None = None,\n) -&gt; PointsHistoryPage:\n    ...\n</code></pre>"},{"location":"reference/usage/#parameters","title":"Parameters","text":"<ul> <li><code>limit</code>: 1\u2013100 (default 20)</li> <li><code>starting_after</code>: cursor; use the <code>query_id</code> from the last entry of the previous page</li> </ul>"},{"location":"reference/usage/#returns-points-history","title":"Returns (points history)","text":"<p>A page object like:</p> <pre><code>{\n  \"has_more\": true,\n  \"length\": 5,\n  \"data\": [\n    {\n      \"creation_time\": 1761523099056852,\n      \"bot_name\": \"Claude-Sonnet-4.5\",\n      \"query_id\": \"ltol8bhnkya9ak3twt\",\n      \"usage_type\": \"API\",\n      \"cost_points\": 6554\n    }\n  ]\n}\n</code></pre> <p>Field descriptions:</p> <ul> <li><code>bot_name</code>: Name of the bot or model used.</li> <li><code>creation_time</code>: Unix timestamp in microseconds.</li> <li><code>query_id</code>: Unique identifier for pagination.</li> <li><code>cost_points</code>: Points consumed by this query.</li> <li><code>usage_type</code>: Descriptor for where points were used (e.g., <code>API</code>, <code>Chat</code>, <code>Canvas App</code>).</li> <li><code>chat_name</code>: Chat name (populated if <code>usage_type</code> is <code>Chat</code>).</li> <li><code>App name</code>: Canvas app name (populated if <code>usage_type</code> is <code>Canvas App</code>).</li> </ul>"},{"location":"reference/usage/#notes","title":"Notes","text":"<ul> <li>Entries are returned most-recent-first.</li> <li>Data is available for up to 30 days.</li> </ul>"}]}